{"version":3,"sources":["components/SearchBar/SearchBar.module.css","components/App/App.module.css","components/UserList/UserList.module.css","components/UserList/UserListItem/UserListItem.module.css","store/slices/usersSearch/state.ts","components/Error/Error.tsx","components/UserList/UserListItem/UserListItem.tsx","components/UserList/UserList.tsx","services/gitsearch.service.ts","store/slices/usersSearch/selectors.ts","store/slices/usersSearch/reducers.ts","store/slices/usersSearch/index.ts","components/SearchBar/SearchBar.tsx","components/App/App.tsx","store/index.ts","index.tsx"],"names":["module","exports","UsersSearchStatus","UsersSearchError","Error","text","UserListItem","data","username","avatar","followers","following","className","styles","user","onClick","window","open","src","alt","user__avatar","user__info","user__username","user__followers","user__following","UserList","users","users_list","map","key","request","lastQuery","initialState","items","status","Fulfilled","error","None","usersSearchSelectors","state","usersSearch","searchUsersByUsername","createAsyncThunk","query","a","EmptyQuery","cancel","axios","CancelToken","source","get","cancelToken","token","reducers","setText","payload","slice","createSlice","name","extraReducers","addCase","pending","Pending","fulfilled","length","Rejected","UsersNotFound","rejected","message","includes","ServerIsUnavailable","APILimitIsExceeded","UnexpectedError","actions","usersSearchReducer","reducer","SearchBar","useSelector","dispatch","useDispatch","search_bar","search_bar__input","type","onKeyUp","event","onChange","target","value","toString","trim","icon","faSearch","search_bar__icon","App","content","useMemo","width","height","color","git_search","git_search__title","store","configureStore","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d21b81c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_bar\":\"SearchBar_search_bar__199_m\",\"search_bar__icon\":\"SearchBar_search_bar__icon__1CQkG\",\"search_bar__input\":\"SearchBar_search_bar__input__3-01c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"git_search\":\"App_git_search__3EhtQ\",\"git_search__title\":\"App_git_search__title__2VR_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_list\":\"UserList_users_list__2tbOR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"UserListItem_user__1Pdpw\",\"user__info\":\"UserListItem_user__info__1t4xg\",\"user__username\":\"UserListItem_user__username__3F1A5\",\"user__avatar\":\"UserListItem_user__avatar__J4vTl\",\"user__following\":\"UserListItem_user__following__2_ltb\",\"user__followers\":\"UserListItem_user__followers__357-g\"};","export enum UsersSearchStatus {\r\n    Pending,\r\n    Fulfilled,\r\n    Rejected\r\n}\r\n\r\nexport type User = {\r\n    username: string\r\n    avatar: string\r\n    followers: number\r\n    following: number\r\n}\r\n\r\nexport enum UsersSearchError {\r\n    None = '',\r\n    UsersNotFound = 'Users for your request were not found.',\r\n    EmptyQuery = 'Enter something to search.',\r\n    ServerIsUnavailable = 'GitSearch server is not available.',\r\n    APILimitIsExceeded = 'Github API limit exceeded. Try again in a minute.',\r\n    UnexpectedError = 'Unexpected error occured while fetching data.'\r\n}\r\n\r\nexport type UsersSearchState = {\r\n    items: User[];\r\n    text: string;\r\n    status: UsersSearchStatus;\r\n    error: UsersSearchError;\r\n}\r\n\r\nexport const initialState: UsersSearchState = {\r\n    items: [],\r\n    text: '',\r\n    status: UsersSearchStatus.Fulfilled,\r\n    error: UsersSearchError.None\r\n}","import React, { Fragment } from 'react'\n\ninterface ErrorProps {\n\ttext: string\n}\n\nexport const Error: React.FC<ErrorProps> = ({ text }) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<p>{text}</p>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\n\nimport { User } from '@/store/slices/usersSearch/state'\n\nimport styles from './UserListItem.module.css'\n\ninterface UserListItemProps {\n\tdata: User\n}\n\nexport const UserListItem: React.FC<UserListItemProps> = ({ data: { username, avatar, followers, following } }) => {\n\treturn (\n\t\t<div className={styles.user} onClick={() => window.open(`https://github.com/${username}`, '_blank')}>\n\t\t\t<img src={avatar} alt=\"Avatar\" className={styles.user__avatar} />\n\t\t\t<div className={styles.user__info}>\n\t\t\t\t<div className={styles.user__username}>{username}</div>\n\t\t\t\t<div className={styles.user__followers}>{followers} followers</div>\n\t\t\t\t<div className={styles.user__following}>{following} following</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React from 'react'\n\nimport { UserListItem } from '@/components/UserList/UserListItem/UserListItem'\nimport { User } from '@/store/slices/usersSearch/state'\n\nimport styles from './UserList.module.css'\n\ninterface UserListProps {\n\tusers: User[]\n}\n\nexport const UserList: React.FC<UserListProps> = ({ users }) => {\n\treturn (\n\t\t<div className={styles.users_list}>\n\t\t\t{users.map(user => (\n\t\t\t\t<UserListItem key={user.username} data={user} />\n\t\t\t))}\n\t\t</div>\n\t)\n}\n","import axios, { CancelTokenSource } from 'axios'\nimport { createAsyncThunk } from '@reduxjs/toolkit'\n\nimport { UsersSearchError } from '@/store/slices/usersSearch/state';\n\nconst url = 'https://morning-crag-46357.herokuapp.com/api'\n\nlet request: CancelTokenSource\nlet lastQuery: string;\n\n/**\n * Calls own API's search request\n * @param  {string} query - part of username\n * @returns Promise\n */\nexport const searchUsersByUsername = createAsyncThunk('usersSearch/searchUserByUsername', async (query: string) => {\n\tif (query === lastQuery) throw new Error('Flood');\n\tif (!query) throw new Error(UsersSearchError.EmptyQuery);\n\tif (request) request.cancel();\n\n\tlastQuery = query;\n\trequest = axios.CancelToken.source();\n\tconst { data } = await axios.get(`${url}/users/search?query=${query}`, { cancelToken: request.token });\n\treturn data;\n});","import { ReduxStore } from \"@/store\";\r\n\r\nexport const usersSearchSelectors = {\r\n    items: (state: ReduxStore) => state.usersSearch.items,\r\n    status: (state: ReduxStore) => state.usersSearch.status,\r\n    text: (state: ReduxStore) => state.usersSearch.text,\r\n    error: (state: ReduxStore) => state.usersSearch.error,\r\n}","import { searchUsersByUsername } from '@/services/gitsearch.service';\r\nimport { ActionReducerMapBuilder, PayloadAction, SerializedError } from '@reduxjs/toolkit';\r\nimport { User, UsersSearchError, UsersSearchState, UsersSearchStatus } from './state';\r\n\r\nexport const reducers = {\r\n\tsetText: (state: UsersSearchState, { payload }: PayloadAction<string>): UsersSearchState => {\r\n\t\treturn { ...state, text: payload };\r\n\t},\r\n};\r\n\r\nexport const extraReducers = ({ addCase }: ActionReducerMapBuilder<UsersSearchState>) => {\r\n\taddCase(searchUsersByUsername.pending, (state: UsersSearchState) => {\r\n\t\treturn { ...state, status: UsersSearchStatus.Pending, error: UsersSearchError.None };\r\n\t});\r\n\r\n\taddCase(searchUsersByUsername.fulfilled, (state: UsersSearchState, { payload }: PayloadAction<User[]>) => {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tstatus: payload.length ? UsersSearchStatus.Fulfilled : UsersSearchStatus.Rejected,\r\n\t\t\titems: payload,\r\n\t\t\terror: payload.length ? UsersSearchError.None : UsersSearchError.UsersNotFound,\r\n\t\t};\r\n\t});\r\n\r\n\taddCase(searchUsersByUsername.rejected, (state: UsersSearchState, { error: { message } }: { error: SerializedError }) => {\r\n\t\tconst messagesToSkip: string[] = ['Cancel', 'Flood']\r\n\t\tif (!message || messagesToSkip.includes(message)) return { ...state };\r\n\t\tlet error: UsersSearchError;\r\n\r\n\t\tswitch (message) {\r\n            case UsersSearchError.EmptyQuery:\r\n\t\t\t\terror = UsersSearchError.EmptyQuery;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Error: Network Error':\r\n\t\t\t\terror = UsersSearchError.ServerIsUnavailable;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Error: Request failed with status code 403':\r\n\t\t\t\terror = UsersSearchError.APILimitIsExceeded;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\terror = UsersSearchError.UnexpectedError;\r\n\t\t}\r\n\r\n\t\treturn { ...state, status: UsersSearchStatus.Rejected, error };\r\n\t});\r\n};\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { reducers, extraReducers } from './reducers';\r\nimport { initialState } from './state';\r\n\r\nconst slice = createSlice({\r\n    name: 'usersSearch',\r\n    initialState,\r\n    reducers,\r\n    extraReducers\r\n})\r\n\r\nexport const { actions: { setText }, reducer: usersSearchReducer } = slice;","import React, { ChangeEvent, KeyboardEvent } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport { usersSearchSelectors } from '@/store/slices/usersSearch/selectors'\nimport { searchUsersByUsername } from '@/services/gitsearch.service'\nimport { setText } from '@/store/slices/usersSearch'\n\nimport styles from './SearchBar.module.css'\n\nexport const SearchBar: React.FC = () => {\n\tconst query = useSelector(usersSearchSelectors.text);\n\tconst dispatch = useDispatch();\n\n\tconst onKeyUp = (event: KeyboardEvent<HTMLInputElement>) => {\n\t\tif (event.key !== 'Enter') return;\n\t\tdispatch(searchUsersByUsername(query));\n\t}\n\n\tconst onChange = (event: ChangeEvent<HTMLInputElement>) => {\n\t\tdispatch(setText(event.target.value.toString().trim()));\n\t}\n\n\tconst onClick = () => {\n\t\tdispatch(searchUsersByUsername(query));\n\t}\n\n\treturn (\n\t\t<div className={styles.search_bar}>\n\t\t\t<input\n\t\t\t\tclassName={styles.search_bar__input}\n\t\t\t\ttype=\"text\"\n\t\t\t\tonKeyUp={onKeyUp}\n\t\t\t\tonChange={onChange}\n\t\t\t\tvalue={query}\n\t\t\t/>\n\t\t\t<div onClick={onClick}>\n\t\t\t\t<FontAwesomeIcon icon={faSearch} className={styles.search_bar__icon} />\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React, { useMemo } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { Error } from \"@/components/Error/Error\";\r\nimport { UserList } from \"@/components/UserList/UserList\";\r\nimport { UsersSearchStatus } from \"@/store/slices/usersSearch/state\";\r\nimport { SearchBar } from \"@/components/SearchBar/SearchBar\";\r\nimport { usersSearchSelectors } from \"@/store/slices/usersSearch/selectors\";\r\n\r\nimport styles from './App.module.css'\r\n\r\nexport const App: React.FC = () => {\r\n\tconst users = useSelector(usersSearchSelectors.items);\r\n\tconst status = useSelector(usersSearchSelectors.status);\r\n\tconst error = useSelector(usersSearchSelectors.error);\r\n\r\n\tconst content = useMemo(() => {\r\n\t\tif (error) return <Error text={error} />\r\n\t\tif (status === UsersSearchStatus.Pending) return <Loader width={50} height={50} type=\"ThreeDots\" color=\"#000000\" />\r\n\t\treturn <UserList users={users} />\r\n\t}, [error, status, users])\r\n\r\n\treturn (\r\n\t\t<div className={styles.git_search}>\r\n\t\t\t<div className={styles.git_search__title}>GitSearch</div>\r\n\t\t\t<SearchBar />\r\n\t\t\t{content}\r\n\t\t</div>\r\n\t)\r\n}","import { usersSearchReducer } from \"@/store/slices/usersSearch\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        usersSearch: usersSearchReducer\r\n    }\r\n});\r\n\r\nexport type ReduxStore = ReturnType<typeof store.getState>","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux';\n\nimport { App } from '@/components/App/App';\nimport { store } from '@/store';\n\nimport '@/index.css'\n\nrender(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}